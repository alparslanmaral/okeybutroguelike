<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>Okey Oyunu - Marketli & Çipli</title>
    <link rel="stylesheet" href="style.css">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div id="game-container">
        <h1>Okey Oyunu</h1>
        <!-- Çip göstergesi (MARKET/ÇİP SİSTEMİ EKLEMESİ) -->
        <div id="chip-count"></div>
        <div id="target-score"></div>
        <div id="score"></div>
        <div id="board-area">
            <div id="board-label">Açık Taşlar</div>
            <div id="board"></div>
        </div>
        <div id="istaka-area">
            <div id="istaka-label">İstaka</div>
            <div id="istaka"></div>
        </div>
        <div id="actions-bar">
            <button id="open-set-btn" class="btn">El Aç</button>
            <button id="change-stones-btn" class="btn">Taş Değiştir</button>
            <button id="confirm-change-btn" class="btn" style="display:none">Değişimi Onayla</button>
            <button id="cancel-change-btn" class="btn cancel-btn" style="display:none">İptal</button>
        </div>
        <div style="width:100%;text-align:center;">
            <span id="open-set-rights"></span>
            <span id="change-stones-hak"></span>
        </div>
        <button id="show-pool-btn">Kalan Taşlar</button>
        <div id="message" class="hidden"></div>
        <div id="pool-modal" class="modal">
            <div class="modal-content">
                <span class="close" id="close-pool-modal">&times;</span>
                <h2>Kalan Taşlar</h2>
                <div id="pool-list"></div>
            </div>
        </div>
        <button id="show-upgrades-btn">Aktif Yükseltmeler</button>
        <div id="message" class="hidden"></div>
        <div id="upgrades-modal" class="modal">
            <div class="modal-content">
                <span class="close" id="close-upgrades-modal">&times;</span>
                <h2>Aktif Yükseltmeler</h2>
                <div id="active-upgrades-list"></div>
            </div>
        </div>
        <button id="reset-game-btn">Baştan Başla</button>
        <!-- MARKET MODALI (MARKET/ÇİP SİSTEMİ EKLEMESİ) -->
        <div id="market-modal" class="modal">
          <div class="market-modal-content">
               <h2>Market</h2>
               <div id="market-chip-count"></div> <!-- BURAYI ekle! -->
               <div id="market-items"></div>
               <div id="market-owned-list"></div>
               <button id="market-close-btn" class="btn market-close-btn">Sonraki Seviyeye Geç</button>
               </div>
        </div>
        <div id="gameover-modal">
            <div id="gameover-content">
                <h2>Oyunu Kaybettin!</h2>
                <p>El açma veya taş değiştirme hakkın bitti, kalan taşlarla set çıkaramıyorsun.<br><br>Tekrar denemek için tıkla.</p>
                <button id="restart-btn">Tekrar Dene</button>
            </div>
        </div>

        <div id="reset-modal" class="modal">
            <div class="modal-content">
                <h2>Baştan Başla</h2>
                <p>Tüm ilerlemeniz ve çipleriniz sıfırlanacak. Emin misiniz?</p>
                <div style="margin-top:16px;text-align:right;">
                    <button id="reset-no-btn" class="btn cancel-btn">Hayır</button>
                    <button id="reset-yes-btn" class="btn" style="margin-left:10px;">Evet</button>
                </div>
            </div>
        </div>
    </div>
    <script src="script.js"></script>
</body>
</html>